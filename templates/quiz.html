<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz Form</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/quiz.css') }}">
</head>
<body>
<div class="header">
<div class="header__logo">
<img src="{{ url_for('static', filename='svg/moon3.svg') }}" alt="Logo" class="logo">
</div>
<nav class="navbar">
<ul class="navbar__menu">
<li class="navbar__item">
<a href="{{ url_for('index') }}" class="navbar__link"><span>Home</span></a>
</li>
<li class="navbar__item">
<a href="{{ url_for('about') }}" class="navbar__link"><span>About</span></a>
</li>
<li class="navbar__item">
<a href="mailto:decodeyourclockgene@gmail.com" class="navbar__link"><span>Contact</span></a>
</li>
</ul>
</nav>
</div>
<form id="quizForm" class="mt-4" action="/submit" method="post">
<div class="form-container">
<div id="personalDetails">
<div class="form-group">
<label for="name">Name:</label>
<input type="text" class="form-control" id="name" name="name" required>
</div>
<div class="form-group">
<label for="age">Age:</label>
<input type="number" class="form-control" id="age" name="age" required>
</div>
<div class="form-group">
<label for="gender">Gender:</label>
<select class="form-control" id="gender" name="gender">
<option value="male">Male</option>
<option value="female">Female</option>
<option value="other">Other</option>
</select>
</div>
<div class="form-group">
<label for="number">Number:</label>
<input type="text" class="form-control" id="number" name="number" required>
</div>
<div class="form-group">
<label for="email">Email:</label>
<input type="email" class="form-control" id="email" name="email" required>
</from>
</div>

<button type="button" class="btn btn-primary btn-next" onclick="showQuestions()">Next</button>
</div>

<div id="quizQuestions" style="display: none;">
<div class="form-group">
<label for="question1">1. How do you feel about waking up early in the morning?</label>
<div class="form-check">
<input class="form-check-input" type="radio" name="question1" id="question1-1" value="5" onchange="calculateSum()">
<label class="form-check-label" for="question1-1">I love it!</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question1" id="question1-2" value="3" onchange="calculateSum()">
<label class="form-check-label" for="question1-2">It's okay.</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question1" id="question1-3" value="1" onchange="calculateSum()">
<label class="form-check-label" for="question1-3">I hate it!</label>
</div>
</div>

<div class="form-group">
<label for="question2">2. When do you feel most productive?</label>
<div class="form-check">
<input class="form-check-input" type="radio" name="question2" id="question2-1" value="5" onchange="calculateSum()">
<label class="form-check-label" for="question2-1">Morning</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question2" id="question2-2" value="3" onchange="calculateSum()">
<label class="form-check-label" for="question2-2">Afternoon</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question2" id="question2-3" value="1" onchange="calculateSum()">
<label class="form-check-label" for="question2-3">Night</label>
</div>
</div>

<div class="form-group">
<label for="question3">Question 3: If there is a specific time at which you have to get up in the morning, to what extent are you dependent on being woken up by an alarm clock?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question3" id="question3-1" value="1" onchange="calculateSum()">
<label class="form-check-label" for="question3-1">Not at all dependent</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question3" id="question3-2" value="2" onchange="calculateSum()">
<label class="form-check-label" for="question3-2">Slightly dependent</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question3" id="question3-3" value="3" onchange="calculateSum()">
<label class="form-check-label" for="question3-3">Fairly dependent</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question3" id="question3-4" value="4" onchange="calculateSum()">
<label class="form-check-label" for="question3-4">Very dependent</label>
</div>
</div>

<div class="form-group">
<label for="question4">Question 4: Assuming adequate environmental conditions, how easy do you find getting up in the mornings?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question4" id="question4-1" value="1" onchange="calculateSum()">
<label class="form-check-label" for="question4-1">Very difficult</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question4" id="question4-2" value="2" onchange="calculateSum()">
<label class="form-check-label" for="question4-2">Difficult</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question4" id="question4-3" value="3" onchange="calculateSum()">
<label class="form-check-label" for="question4-3">Fairly easy</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question4" id="question4-4" value="4" onchange="calculateSum()">
<label class="form-check-label" for="question4-4">Very easy</label>
</div>
</div>

<div class="form-group">
<label for="question5">Question 5: How alert do you feel during the first half-hour after having woken in the mornings?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question5" id="question5-1" value="1" onchange="calculateSum()">
<label class="form-check-label" for="question5-1">Not at all alert</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question5" id="question5-2" value="2" onchange="calculateSum()">
<label class="form-check-label" for="question5-2">Slightly alert</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question5" id="question5-3" value="3" onchange="calculateSum()">
<label class="form-check-label" for="question5-3">Fairly alert</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question5" id="question5-4" value="4" onchange="calculateSum()">
<label class="form-check-label" for="question5-4">Very alert</label>
</div>
</div>

<div class="form-group">
<label for="question6">Question 6: How is your appetite during the first half-hour after having woken in the mornings?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question6" id="question6-1" value="1" onchange="calculateSum()">
<label class="form-check-label" for="question6-1">Very poor</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question6" id="question6-2" value="2" onchange="calculateSum()">
<label class="form-check-label" for="question6-2">Fairly poor</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question6" id="question6-3" value="3" onchange="calculateSum()">
<label class="form-check-label" for="question6-3">Fairly good</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question6" id="question6-4" value="4" onchange="calculateSum()">
<label class="form-check-label" for="question6-4">Very good</label>
</div>
</div>

<div class="form-group">
<label for="question7">Question 7: During the first half-hour after having woken in the morning, how tired do you feel?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question7" id="question7-1" value="1" onchange="calculateSum()">
<label class="form-check-label" for="question7-1">Very tired</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question7" id="question7-2" value="2" onchange="calculateSum()">
<label class="form-check-label" for="question7-2">Fairly tired</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question7" id="question7-3" value="3" onchange="calculateSum()">
<label class="form-check-label" for="question7-3">Fairly refreshed</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question7" id="question7-4" value="4" onchange="calculateSum()">
<label class="form-check-label" for="question7-4">Very refreshed</label>
</div>
</div>

<div class="form-group">
<label for="question8">Question 8: When you have no commitments the next day, at what time do you go to bed compared to your usual bedtime?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question8" id="question8-1" value="1" onchange="calculateSum()">
<label class="form-check-label" for="question8-1">Seldom or never later</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question8" id="question8-2" value="2" onchange="calculateSum()">
<label class="form-check-label" for="question8-2">Less than one hour later</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question8" id="question8-3" value="3" onchange="calculateSum()">
<label class="form-check-label" for="question8-3">1-2 hours later</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question8" id="question8-4" value="4" onchange="calculateSum()">
<label class="form-check-label" for="question8-4">More than two hours later</label>
</div>
</div>

<div class="form-group">
<label for="question9">Question 9: You have decided to engage in some physical exercise. A friend suggests that you do this one hour twice a week and the best time for him is between 7:00-8:00 a.m. Bearing in mind nothing else but your own “feeling best” rhythm, how do you think you would perform?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question9" id="question9-1" value="1" onchange="calculateSum()">
<label class="form-check-label" for="question9-1">Would be on good form</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question9" id="question9-2" value="2" onchange="calculateSum()">
<label class="form-check-label" for="question9-2">Would be on reasonable form</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question9" id="question9-3" value="3" onchange="calculateSum()">
<label class="form-check-label" for="question9-3">Would find it difficult</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question9" id="question9-4" value="4" onchange="calculateSum()">
<label class="form-check-label" for="question9-4">Would find it very difficult</label>
</div>
</div>

<div class="form-group">
<label for="question10">Question 10: At what time of the evening do you feel tired and as a result in need of sleep?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question10" id="question10-1" value="1">
<label class="form-check-label" for="question10-1">8:00 pm to 9:00 pm</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question10" id="question10-2" value="2">
<label class="form-check-label" for="question10-2">9:00 pm to 10:00 pm</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question10" id="question10-3" value="3">
<label class="form-check-label" for="question10-3">10:00 pm to 1:00 am</label>
</div>
<div class="form-check">
<input class="form-check-input"type="radio" name="question10" id="question10-4" value="4">
<label class="form-check-label" for="question10-4">1:00 am to 2:00 am</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question10" id="question10-5" value="5">
<label class="form-check-label" for="question10-5">2:00 am to 3:00 am</label>
</div>
</div>

<div class="form-group">
<label for="question11">Question 11: You wish to be at your peak performance for a test which you know is going to be mentally exhausting and lasting for two hours. You are entirely free to plan your day and considering only your own “feeling best” rhythm, which ONE of the four testing times would you choose?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question11" id="question11-1" value="1">
<label class="form-check-label" for="question11-1">8:00 am to 10:00 am</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question11" id="question11-2" value="2">
<label class="form-check-label" for="question11-2">11:00 am to 1:00 pm</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question11" id="question11-3" value="3">
<label class="form-check-label" for="question11-3">3:00 pm to 5:00 pm</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question11" id="question11-4" value="4">
<label class="form-check-label" for="question11-4">7:00 pm to 9:00 pm</label>
</div>
</div>

<div class="form-group">
<label for="question12">Question 12: If you went to bed at 11:00 pm at what level of tiredness would you be?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question12" id="question12-1" value="1">
<label class="form-check-label" for="question12-1">Not at all tired</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question12" id="question12-2" value="2">
<label class="form-check-label" for="question12-2">A little tired</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question12" id="question12-3" value="3">
<label class="form-check-label" for="question12-3">Fairly tired</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question12" id="question12-4" value="4">
<label class="form-check-label" for="question12-4">Very tired</label>
</div>
</div>

<div class="form-group">
<label for="question13">Question 13: For some reason you have gone to bed several hours later than usual, but there is no need to get up at any particular time the next morning. Which ONE of the following events are you most likely to experience?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question13" id="question13-1" value="1">
<label class="form-check-label" for="question13-1">Will wake up at usual time and will NOT fall asleep</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question13" id="question13-2" value="2">
<label class="form-check-label" for="question13-2">Will wake upat usual time and will doze thereafter</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question13" id="question13-3" value="3">
<label class="form-check-label" for="question13-3">Will wake up at usual time but will fall asleep again</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question13" id="question13-4" value="4">
<label class="form-check-label" for="question13-4">Will NOT wake up until later than usual</label>
</div>
</div>

<div class="form-group">
<label for="question14">Question 14: One night you have to remain awake between 4:00 am-6:00 am in order to carry out a night watch. You have no commitments the next day. Which ONE of the alternatives will suit you best?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question14" id="question14-1" value="1">
<label class="form-check-label" for="question14-1">Would NOT go to bed until watch was over</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question14" id="question14-2" value="2">
<label class="form-check-label" for="question14-2">Would take a nap beforeand sleep after</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question14" id="question14-3" value="3">
<label class="form-check-label" for="question14-3">Would take a good sleep before and nap after</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question14" id="question14-4" value="4">
<label class="form-check-label" for="question14-4">Would take ALL sleep before watch</label>
</div>
</div>

<div class="form-group">
<label for="question15">Question 15: You have to do two hours of hard physical work. You are entirely free to plan your day considering only your own “feeling best” rhythm. Which ONE of the following times would you choose?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question15" id="question15-1" value="1">
<label class="form-check-label" for="question15-1">8:00 am to 10:00 am</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question15" id="question15-2" value="2">
<label class="form-check-label" for="question15-2">11:00 am to 1:00 pm</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question15" id="question15-3" value="3">
<label class="form-check-label" for="question15-3">3:00 pm to 5:00 pm</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question15" id="question15-4" value="4">
<label class="form-check-label" for="question15-4">7:00 pm to 9:00 pm</label>
</div>
</div>

<div class="form-group">
<label for="question16">Question 16: You have decided to engage in hard physical exercise. A friend suggests that you do this for one hour twice a week and the best time for him is between 10:00 pm-11:00 pm. Bearing in mind nothing else but your own “feeling best” rhythm, how well do you think you would perform?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question16" id="question16-1" value="1">
<label class="form-check-label" for="question16-1">Would be on good form</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question16" id="question16-2" value="2">
<label class="form-check-label" for="question16-2">Would be on reasonable form</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question16" id="question16-3" value="3">
<label class="form-check-label" for="question16-3">Would find it difficult</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question16" id="question16-4" value="4">
<label class="form-check-label" for="question16-4">Would find it very difficult</label>
</div>
</div>

<div class="form-group">
<label for="question17">Question 17: Suppose that you can choose your own work hours. Assume that you worked a FIVE hour day (including breaks) and that your job was interesting and paid by results. Which FIVE CONSECUTIVE HOURS would you select?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question17" id="question17-1" value="1">
<label class="form-check-label" for="question17-1">Five hours starting between 12:00 am and 3:00 am</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question17" id="question17-2" value="2">
<label class="form-check-label" for="question17-2">Five hours starting between 3:00 am and 7:00 am</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question17" id="question17-3" value="3">
<label class="form-check-label" for="question17-3">Five hours starting between 7:00 am and 9:00 am</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question17" id="question17-4" value="4">
<label class="form-check-label" for="question17-4">Five hours starting between 9:00 am and 1:00 pm</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question17" id="question17-5" value="5">
<label class="form-check-label" for="question17-5">Five hours starting between 1:00 pm and 4:00 pm</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question17" id="question17-6" value="6">
<label class="form-check-label" for="question17-6">Five hours starting between 5:00 pm and 12:00 am</label>
</div>
</div>

<div class="form-group"><label for="question18">Question 18: At what time of the day do you think that you reach your 'feeling best' peak?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question18" id="question18-1" value="1">
<label class="form-check-label" for="question18-1">12:00 am to 3:00 am</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question18" id="question18-2" value="2">
<label class="form-check-label" for="question18-2">3:00 am to 6:00 am</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question18" id="question18-3" value="3">
<label class="form-check-label" for="question18-3">6:00 am to 9:00 am</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question18" id="question18-4" value="4">
<label class="form-check-label" for="question18-4">9:00 am to 12:00 pm</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question18" id="question18-5" value="5">
<label class="form-check-label" for="question18-5">12:00 pm to 3:00 pm</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question18" id="question18-6" value="6">
<label class="form-check-label" for="question18-6">3:00 pm to 6:00 pm</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question18" id="question18-7" value="7">
<label class="form-check-label" for="question18-7">6:00 pm to 9:00 pm</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question18" id="question18-8" value="8">
<label class="form-check-label" for="question18-8">9:00 pm to 12:00 am</label>
</div>
</div>

<div class="form-group">
<label for="question19">Question 19: At what time of the day do you think that you reach your 'feeling least' peak?</label><br>
<div class="form-check">
<input class="form-check-input" type="radio" name="question19" id="question19-1" value="1">
<label class="form-check-label" for="question19-1">12:00 am to 3:00 am</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question19" id="question19-2" value="2">
<label class="form-check-label" for="question19-2">3:00 am to 6:00 am</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question19" id="question19-3" value="3">
<label class="form-check-label" for="question19-3">6:00 am to 9:00 am</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question19" id="question19-4" value="4">
<label class="form-check-label" for="question19-4">9:00 am to 12:00 pm</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question19" id="question19-5" value="5">
<label class="form-check-label" for="question19-5">12:00 pm to 3:00 pm</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question19" id="question19-6" value="6">
<label class="form-check-label" for="question19-6">3:00 pm to 6:00 pm</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question19" id="question19-7" value="7">
<label class="form-check-label" for="question19-7">6:00 pm to 9:00 pm</label>
</div>
<div class="form-check">
<input class="form-check-input" type="radio" name="question19" id="question19-8" value="8">
<label class="form-check-label" for="question19-8">9:00 pm to 12:00 am</label>
</div>
</div>

<button type="submit" class="btn btn-primary">Submit</button>
<button type="button" class="btn btn-primary btn-back" onclick="showPersonalDetails()">Back</button>
</div>
</form>

<div id="sum" style="display: none;"></div>

<script>
let sum = 0;

function calculateSum() {
const selectedElement = event.target;
const selectedValue = parseInt(selectedElement.value);
const previousValue = parseInt(selectedElement.getAttribute('data-previous-value') || 0);

if (!isNaN(selectedValue)) {
if (selectedValue > previousValue) {
sum += selectedValue - previousValue;
} else if (selectedValue < previousValue) {
sum -= previousValue - selectedValue;
}
selectedElement.setAttribute('data-previous-value', selectedValue);
}

document.cookie = `sum=${sum}; path=/`;
}

document.addEventListener('DOMContentLoaded', function() {
var quizForm = document.getElementById('quizForm');
quizForm.addEventListener('keydown', function(e) {
if (e.keyCode === 13) {
e.preventDefault();
}
});

var btnNext = document.querySelector('.btn-next');
var btnBack = document.querySelector('.btn-back');
btnNext.addEventListener('click', showQuestions);
btnBack.addEventListener('click', showPersonalDetails);

quizForm.addEventListener('submit', function(e) {
if (!validateForm()) {
e.preventDefault();
} else {
document.cookie = `sum=${sum}; path=/`;
}
});
});

function showQuestions() {
if (validatePersonalDetails()) {
const name = document.getElementById("name").value.trim();
document.cookie = `name=${name}; path=/`;
document.getElementById('personalDetails').style.display = 'none';
document.getElementById('quizQuestions').style.display = 'block';
}
}

function showPersonalDetails() {
document.getElementById('quizQuestions').style.display = 'none';
document.getElementById('personalDetails').style.display = 'block';
}

function validateForm() {
var radios = document.querySelectorAll('#quizQuestions input[type="radio"]');
for (var i = 0; i < radios.length; i++) {
if (radios[i].checked) {
return true;
}
}
alert('Please answer all questions before submitting.');
return false;
}

function validatePersonalDetails() {
const name = document.getElementById("name").value.trim();
const age = document.getElementById("age").value.trim();
const gender = document.getElementById("gender").value.trim();
const number = document.getElementById("number").value.trim();const email = document.getElementById("email").value.trim();

if (name === "" || age === "" || gender === "" || number === "" || email === "") {
alert("Please fill in all the required fields in the Personal Details section before proceeding.");
return false;
}

return true;
}
</script>

</body>
</html>